<h2>Edit <%=@role%> Review</h2>

<%= form_with model: @review, local: true, class: 'form' do |f| %>
  <% if @role == "Vendor"%>
    <%= f.label :vendor_name, "#{@role} Being Reviewed", class: 'col-form-label' %>
    <%= f.select :vendor_name, UserAccount.all.pluck(:name), 
                { prompt: 'Select user', selected: (@user_of_interest[:name])},
                class: 'form-control', id: 'reviewed_name', required: true %>
  <%else%>
    <%= f.label :client_name, "#{@role} Being Reviewed", class: 'col-form-label' %>
    <%= f.select :client_name, UserAccount.all.pluck(:name), 
                { prompt: 'Select user', selected: (@user_of_interest[:name])},
                class: 'form-control', id: 'reviewed_name', required: true %>
  <%end%>

  <% if @role == "Vendor"%>
    <%= f.label :title, 'Service Provided', class: 'col-form-label' %>
    <%= f.text_field :title, class: 'form-control', id: 'service_provided', required: true %>
  <%end%>

  <%= f.label :comment, 'Review', class: 'col-form-label' %>
  <%= f.text_area :comment, class: 'form-control', id: 'review_comment', required: true %>

  <%= f.label :rating, 'Rating (0â€“10)', class: 'col-form-label' %>
  <%= f.number_field :rating, step: 0.1, class: 'form-control', id: 'review_rating', required: true %>

  <br/>
  <%= f.submit 'Update', class: 'btn btn-secondary' %>
  <%= link_to 'Cancel', reviews_path(filter: "written_by_me"), class: 'btn btn-outline-secondary' %>
<% end %>